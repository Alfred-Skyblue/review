<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			* {
				      margin: 0;
				      padding: 0;
				    }
				
				    input {
				      margin-top: 20px;
				    }
				
				    div {
				      margin-top: 30px;
				      width: 200px;
				      height: 100px;
				      background-color: green;
				      position: absolute;
				    }
				  </style>
	</head>
	<body>
		<input type="button" value="移动到400px" id="btn1" />
		<input type="button" value="移动到800px" id="btn2" />
		<div id="dv"></div>
		<script src="common.js"></script>
		<script>
			//封装动画函数

			my$("btn1").onclick = function() {
				animate(my$("dv"), 400)
			};
			my$("btn2").onclick = function() {
				animate(my$("dv"), 800)
			};
			//设置任意的元素,移动到目标位置

			function animate(element, target) {
				//先清理一次定时器
				clearInterval(element.timeId);
				element.timeId = setInterval(function() {
					
					//获取元素的当前位置offsetLeft数字类型
					var current = element.offsetLeft;
					//每次移动的距离
					var step = 10;
					step = current < target ? step : -step;

					//当前移动到的位置
					current += step;
					if (Math.abs(current - target) > Math.abs(step)) {
						element.style.left = current + "px";
					} else {
						clearInterval(element.timeId);
						element.style.left = target + "px";
					}

				}, 20)
			}
		</script>
	</body>
</html>
