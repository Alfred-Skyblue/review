<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Document</title>

		<style>
			* {
            margin: 0;
            padding: 0;
        }
        
        #box {
            width: 450px;
            margin: 200px auto;
        }
        
        #txt {
            width: 350px;
        }
        
        #pop {
            width: 350px;
            border: 1px solid red;
        }
        
        #pop ul {
            margin: 10px;
            padding: 0px;
            width: 200px;
            list-style-type: none;
		
        }
    </style>

	</head>

	<body>

		<div id="box">
			<input type="text" id="txt" value="">
			<input type="button" value="搜索" id="btn">

		</div>

		<script src="common.js"></script>
		<script>
			var keyWords = ["小杨才是最纯洁的", "小杨才是最帅的", "小段是最猥琐的", "小超是最龌龊的", "传智播客是一个培训机构", "传说在传智有个很帅很纯洁的小杨", "苹果好吃",
				"苹果此次召回还是没有中国"
			];


			my$("txt").onkeyup = function() {

				if (my$("dv")) {
					//删除一次
					my$("box").removeChild(my$("dv"));
				}



				var text = this.value;

				var tempArr = [];

				for (var i = 0; i < keyWords.length; i++) {
					if (keyWords[i].indexOf(text) == 0) {
						tempArr.push(keyWords[i]);
					}
				}


				if (this.value.length == 0 || tempArr.length == 0) {
					if (my$("dv")) {
						my$("box").removeChild(my$("dv"));
					}
					return;

				}


				// 创建div标签
				var dvObj = document.createElement("div");
				my$("box").appendChild(dvObj);
				dvObj.style.width = "350px";
				dvObj.style.border = "1px solid skyblue";
				dvObj.id = "dv";

				for (var i = 0; i < tempArr.length; i++) {
					var pObj = document.createElement("p");
					pObj.style.margin = "5px 0 0 5px";
					pObj.style.cursor = "pointer";
					setInnerText(pObj, tempArr[i]);
					dvObj.appendChild(pObj);

					// 为p标签注册多个不同的事件,并且指向同一个事件处理函数
					pObj.onmouseover = f1;
					pObj.onmouseout = f1;
					pObj.onclick = f1


				}

				function f1(event) {
					switch (event.type) {
						case "click":
							my$("txt").value = getInnerText(this);
							my$("box").removeChild(my$("dv"));
							break;
						case "mouseover":
							this.style.backgroundColor = "skyblue";
							break;
						case "mouseout":
							this.style.backgroundColor = "";
							break;
					}
				}










			};
		</script>



	</body>

</html>
