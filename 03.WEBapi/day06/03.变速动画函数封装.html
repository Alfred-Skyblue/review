<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}

			div {
				width: 200px;
				height: 100px;
				background-color: skyblue;
				margin-top: 50px;
				position: absolute;
				left: 0;
				top: 0;
			}

			button {
				margin: 20px;

			}
		</style>
	</head>
	<body>

		<button id="btn1">移动到400px</button>
		<button id="btn2">移动到800px</button>
		<div id="dv"></div>
		<script src="common.js"></script>
		<script>
			//点击按钮移动div
			my$("btn1").onclick = function() {
				animate(my$("dv"), 400);
			};
			my$("btn2").addEventListener("click", function() {
				animate(my$("dv"), 800);
			})


			function animate(element, target) {
				clearInterval(element.timeId);
				element.timeId = setInterval(function() {
					// 获取元素的当前位置
					var current = element.offsetLeft;
					// 每次移动的距离
					var step = (target - current) / 10;
					// 如果走正数,则小数点向上取整,如果走负数,则小数点向下取整
					step = step > 0 ? Math.ceil(step) : Math.floor(step);
					current += step;
					element.style.left = current + "px";
					if (current == target) {
						// 清理定时器
						clearInterval(element.timeId);
					}
					// 测试代码
					console.log("目标位置：" + target + "，当前位置：" + current + "，每次移动的步数：" + step);
				}, 20)
			}
		</script>













	</body>
</html>
