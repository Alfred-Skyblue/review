<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>深拷贝</title>
	</head>
	<body>
		<script>
			
			 // 深拷贝:拷贝还是复制,深:把一个对象中所有的属性或者方法,一个一个的找到.并且在另一个对象中开辟相应的空间,一个一个的存储到另一个对象中
			
			var obj1={
				name:"小明",
				age:"18",
				food:{
					greens:"红烧肉",
					staple:"大米饭"
				}
			};
			
			
			//创建一个空对象
			var obj2={};
			//通过函数实现,把对象a中的所有的数据深拷贝到b对象中
			function extend(a,b) {
				for (var key in a) {
					//把对象的每个属性值都储存到变量中
					var item=a[key];
					//判断这个属性值是不是数组
					if (Object.prototype.toString.call(item) == "[object Array]") {
						b[key]=[];
						extend(item,b[key]);
					}else if (Object.prototype.toString.call(item) == "[object Object]") {
						//判断这个属性值是不是对象
						b[key]={};
						extend(item,b[key]);
					} else{
						//如果是普通属性,则直接赋值
						b[key]=item;
					}
				}
			}
			
			// console.log(Object.prototype.toString.call(obj2));
			extend(obj1,obj2);
			console.dir(obj1);
			console.dir(obj2);
			
		</script>
		
		
		
	</body>
</html>
