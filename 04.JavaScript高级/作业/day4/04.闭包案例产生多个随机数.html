<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>闭包案例产生多个随机数</title>
	</head>
	<body>
		
		<script>
			
			function showRandom() {
				var num=parseInt(Math.random()*10+1);
				console.log(num);
			}
			
			showRandom();
			showRandom();
			showRandom();
			//因为每次调用都会产生一个随机数,所以会产生三个不同的随机数
			
			
			
			//闭包的方式
			function f1() {
				var num=parseInt(Math.random()*10+1);
				return function () {
					console.log(num);
				};
			}
			
			var fn=f1();
			fn();
			fn();
			fn();
			//因为闭包会将数据缓存到内存当中,所以返回的函数里面只储存了一次随机数,调用三次都是相同的随机数
			
			
			/*
				总结:
					如果想要缓存数据，就把这个数据放在外层函数和里层函数的中间位置
					
				闭包的作用：
					缓存数据，这是它的优点，也是它的缺点，不能及时释放内存空间
					
					
				局部变量是在函数中使用，函数使用结束后，局部变量就会被自动释放
				闭包后，里面的局部变量使用作用域链就会被延长
			
			*/
			
			
				
			
		</script>
		
		
	</body>
</html>
